name: Process YAML and JSON Files

on:
  push:
    branches:
      - main

jobs:
  process-files:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout Code
      uses: actions/checkout@v3

    - name: Install yq and jq
      run: |
        sudo apt-get update
        sudo apt-get install -y jq
        curl -sL https://github.com/mikefarah/yq/releases/latest/download/yq_linux_amd64 -o /usr/bin/yq
        chmod +x /usr/bin/yq

    - name: Check yq and jq Versions
      run: |
        yq --version
        jq --version

    - name: Check File Existence
      run: |
        if [ ! -f path/to/yourfile.yaml ]; then echo "YAML file not found"; exit 1; fi
        if [ ! -f path/to/yourfile.json ]; then echo "JSON file not found"; exit 1; fi

    - name: Process YAML File with yq
      run: |
        echo "Processing YAML file..."
        cat path/to/yourfile.yaml
        yq '.key' path/to/yourfile.yaml

    - name: Process JSON File with jq
      run: |
        echo "Processing JSON file..."
        cat path/to/yourfile.json
        jq '.key' path/to/yourfile.json
